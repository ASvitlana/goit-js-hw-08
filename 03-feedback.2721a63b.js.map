{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAeF,SAASC,cAAc,SACtCE,EAAiBH,SAASC,cAAc,YAuB9C,SAASG,IACPC,OAAOC,YAAcC,aAAaC,QAvBX,wBAuBwC,GApBjEJ,IAEAL,EAAKU,iBAAiB,SAAS,EAAAZ,EAAAa,WAE/B,SAAyBC,GACrBA,EAAMC,iBACN,MAAMC,EAAe,CAAEC,MAAOZ,EAAaa,MAAOC,QAASb,EAAeY,OAC1ER,aAAaU,QAVQ,sBAUkBC,KAAKC,UAAUN,IACtDT,MANqD,MAUzDL,EAAKU,iBAAiB,UAAUE,IAC5BA,EAAMC,iBACNQ,QAAQC,IAAI,CAAEP,MAAOZ,EAAaa,MAAOC,QAASb,EAAeY,QACjEhB,EAAKuB,QACLf,aAAagB,WAnBQ,0BA0BzB,MASMC,EATO,CAAAC,IACT,IACI,MAAMC,EAAkBnB,aAAaC,QAAQiB,GAC7C,OAA2B,OAApBC,OAA2BC,EAAYT,KAAKU,MAAMF,GAC3D,MAAOG,GACLT,QAAQS,MAAM,oBAAqBA,EAAMb,WAI7Bc,CAnCK,uBAoCjBN,IACAtB,EAAaa,MAAQS,EAAYV,MACjCX,EAAeY,MAAQS,EAAYR","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst inputedEmail = document.querySelector('input');\nconst inputedMessage = document.querySelector('textarea');\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\n// console.dir(form)\n\nupdateOutput();\n\nform.addEventListener('input', throttle(saveInputedText, 500));\n\nfunction saveInputedText(event) {\n    event.preventDefault();\n    const objectToSave = { email: inputedEmail.value, message: inputedMessage.value };\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(objectToSave));\n    updateOutput();\n    // form.reset();\n};\n\nform.addEventListener('submit', event => {\n    event.preventDefault();\n    console.log({ email: inputedEmail.value, message: inputedMessage.value });\n    form.reset();\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n});\n\nfunction updateOutput() {\n  output.textContent = localStorage.getItem(LOCALSTORAGE_KEY) || \"\";\n};\n\nconst load = key => {\n    try {\n        const serializedState = localStorage.getItem(key);\n        return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n        console.error('Get state error: ', error.message);\n    }\n};\n\nconst storageData = load(LOCALSTORAGE_KEY);\n    if (storageData) {\n        inputedEmail.value = storageData.email;\n        inputedMessage.value = storageData.message;\n}"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$inputedEmail","$945622fd0f572e60$var$inputedMessage","$945622fd0f572e60$var$updateOutput","output","textContent","localStorage","getItem","addEventListener","throttle","event","preventDefault","objectToSave","email","value","message","setItem","JSON","stringify","console","log","reset","removeItem","$945622fd0f572e60$var$storageData","key","serializedState","undefined","parse","error","$945622fd0f572e60$var$load"],"version":3,"file":"03-feedback.2721a63b.js.map"}