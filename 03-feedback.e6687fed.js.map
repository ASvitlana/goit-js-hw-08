{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAeF,SAASC,cAAc,SACtCE,EAAiBH,SAASC,cAAc,YACxCG,EAAmB,sBAsBzB,SAASC,IACPC,OAAOC,YAAcC,aAAaC,QAAQL,IAAqB,GApBjEC,IAEAN,EAAKW,iBAAiB,SAAS,EAAAb,EAAAc,WAE/B,SAAyBC,GACrBA,EAAMC,iBACN,IAAMC,EAAe,CAAEC,MAAOb,EAAac,MAAOC,QAASd,EAAea,OAC1ER,aAAaU,QAAQd,EAAkBe,KAAKC,UAAUN,IACtDT,MANqD,MAUzDN,EAAKW,iBAAiB,UAAU,SAAAE,GAC5BA,EAAMC,iBACNQ,QAAQC,IAAI,CAAEP,MAAOb,EAAac,MAAOC,QAASd,EAAea,QACjEjB,EAAKwB,QACLf,aAAagB,WAAWpB,MAO5B,IASMqB,EATO,SAAAC,GACT,IACI,IAAMC,EAAkBnB,aAAaC,QAAQiB,GAC7C,OAA2B,OAApBC,OAA2BC,EAAYT,KAAKU,MAAMF,GAC3D,MAAOG,GACLT,QAAQS,MAAM,oBAAqBA,EAAMb,UAI7Bc,CAAK3B,GACjBqB,IACAvB,EAAac,MAAQS,EAAYV,MACjCZ,EAAea,MAAQS,EAAYR,S","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst inputedEmail = document.querySelector('input');\nconst inputedMessage = document.querySelector('textarea');\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\n// console.dir(form)\n\nupdateOutput();\n\nform.addEventListener('input', throttle(saveInputedText, 500));\n\nfunction saveInputedText(event) {\n    event.preventDefault();\n    const objectToSave = { email: inputedEmail.value, message: inputedMessage.value };\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(objectToSave));\n    updateOutput();\n    // form.reset();\n};\n\nform.addEventListener('submit', event => {\n    event.preventDefault();\n    console.log({ email: inputedEmail.value, message: inputedMessage.value });\n    form.reset();\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n});\n\nfunction updateOutput() {\n  output.textContent = localStorage.getItem(LOCALSTORAGE_KEY) || \"\";\n};\n\nconst load = key => {\n    try {\n        const serializedState = localStorage.getItem(key);\n        return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n        console.error('Get state error: ', error.message);\n    }\n};\n\nconst storageData = load(LOCALSTORAGE_KEY);\n    if (storageData) {\n        inputedEmail.value = storageData.email;\n        inputedMessage.value = storageData.message;\n}"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$inputedEmail","$b00c40859be242c5$var$inputedMessage","$b00c40859be242c5$var$LOCALSTORAGE_KEY","$b00c40859be242c5$var$updateOutput","output","textContent","localStorage","getItem","addEventListener","throttle","event","preventDefault","objectToSave","email","value","message","setItem","JSON","stringify","console","log","reset","removeItem","$b00c40859be242c5$var$storageData","key","serializedState","undefined","parse","error","$b00c40859be242c5$var$load"],"version":3,"file":"03-feedback.e6687fed.js.map"}